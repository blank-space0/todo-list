(()=>{"use strict";var e={56:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},72:e=>{var n=[];function t(e){for(var t=-1,r=0;r<n.length;r++)if(n[r].identifier===e){t=r;break}return t}function r(e,r){for(var o={},s=[],i=0;i<e.length;i++){var c=e[i],A=r.base?c[0]+r.base:c[0],d=o[A]||0,l="".concat(A," ").concat(d);o[A]=d+1;var p=t(l),m={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)n[p].references++,n[p].updater(m);else{var u=a(m,r);r.byIndex=i,n.splice(i,0,{identifier:l,updater:u,references:1})}s.push(l)}return s}function a(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var i=t(o[s]);n[i].references--}for(var c=r(e,a),A=0;A<o.length;A++){var d=t(o[A]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}o=c}}},89:(e,n,t)=>{e.exports=t.p+"e4d23464ba7332578548.woff2"},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map(function(n){var t="",r=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),r&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),r&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t}).join("")},n.i=function(e,t,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(s[c]=!0)}for(var A=0;A<e.length;A++){var d=[].concat(e[A]);r&&s[d[0]]||(void 0!==o&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=o),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),n.push(d))}},n}},354:e=>{e.exports=function(e){var n=e[1],t=e[3];if(!t)return n;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(a," */");return[n].concat([o]).join("\n")}return[n].join("\n")}},365:(e,n,t)=>{t.d(n,{A:()=>u});var r=t(354),a=t.n(r),o=t(314),s=t.n(o),i=t(417),c=t.n(i),A=new URL(t(89),t.b),d=new URL(t(369),t.b),l=s()(a()),p=c()(A),m=c()(d);l.push([e.id,`@font-face {\n    font-family: 'robotoregular';\n    src: url(${p}) format('woff2'),\n         url(${m}) format('woff');\n    font-weight: normal;\n    font-style: normal;\n\n}\n\n:root {\n    --primary-dark: #333;\n    --secondary-dark: #444;\n    --primary-light: #eee;\n    --secondary-light: #ddd;\n}\n\n* {\n    box-sizing: border-box;\n    font-family: 'robotoregular', sans-serif;\n}\n\nhtml, body {\n    margin: 0;\n    padding: 0;\n    height: 100%;\n}\n\nbody {\n    display: grid;\n    grid-template-rows: auto 1fr;\n    grid-template-columns: auto 1fr;\n    background-color: var(--primary-light);\n}\n\n/* ---------- Header ----------*/\n\nheader {\n    grid-row: 1/ 2;\n    grid-column: 1/3;\n    background-color: var(--primary-dark);\n    color: var(--primary-light);\n    padding: 1rem;\n}\n\nheader .wrapper {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    margin-left: 1rem;\n    width: 15rem;\n    gap: 1rem;\n}\n\nheader .title {\n    font-size: 2rem;\n}\n\n.material-symbols-outlined.checkmark {\n    font-size: 3rem; /* bigger icon */\n}\n\n/* ---------- Nav bar ----------*/\n\naside {\n    grid-column: 1/2;\n    background-color: var(--secondary-light);\n    padding: 1.5rem;\n}\n\naside h2 {\n    margin-top: 4px;\n    margin-bottom: 4pxrem;\n    padding: .5rem;\n}\n\naside ul {\n    list-style-type: none;\n    padding-left: 0;\n}\n\n#sidebar li {\n    margin-bottom: 1.5rem;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    border-radius: 1rem;\n    background-color: var(--secondary-light);\n    transition: filter 0.2s ease;\n    width: 12rem;\n    overflow: hidden;\n    padding: .5rem;\n}\n\n.project-close {\n    display: grid;\n    place-items: center;\n}\n\n#sidebar .style-help {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 3px;\n}\n\n.project-swap,  .project-close, #add-project {\n    border: none;\n    background-color: var(--secondary-light);\n}\n\n.project-swap:hover, .project-close:hover, #add-project-hover {\n    cursor: pointer;\n}\n\n.project-close {\n    opacity: 0;\n    transition: opacity 0.2s ease;\n}\n\n#sidebar li:hover .project-close { /* target when the li element is hovered */\n    opacity: 1;\n}\n\n\n#sidebar li:hover, #add-project:hover {\n    filter: brightness(0.85); /* 97% brightness = subtle darkening */\n}\n\n#add-project {\n    padding: .5rem;\n    border-radius: 1rem;\n    width: 13rem;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    gap: 10px;\n    position: relative;\n}\n\naside form {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n    padding: .5rem;\n}\n\n.form-buttons {\n    display: flex;\n    justify-content: space-between;\n}\n\n.sub-form, .clear-form {\n    width: 4rem;\n}\n\n.sub-form:hover, .clear-form:hover {\n    cursor: pointer;\n}\n\n\n/* ---------- Main ----------*/\n\nmain {\n    grid-column: 2/3;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    padding: 1rem;\n    margin-left: 2rem;\n    margin-right: 2rem;\n}\n\nmain h2 {\n    margin-left: 7px;\n}\n\nmain ul {\n    margin-left: 0;\n    padding-left: 0;\n}\n\nmain .circle {\n    border: 2px solid black;\n    width: 1.5rem;\n    height: 1.5rem;\n    border-radius: 1rem;\n}\n\nmain li {\n    list-style-type: none;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    gap: 1rem;\n    margin-bottom: 1rem;\n    transition: filter 0.2s ease;\n    overflow: hidden;\n    background-color: var(--primary-light);\n    border-radius: 1rem;\n    padding: .5rem;\n}\n\nmain li:hover {\n    filter: brightness(0.85);\n}\n\nmain .circle:hover {\n    cursor: pointer;\n}\n\nmain .task-item, #add-task {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    gap: 10px;\n    width: 100%rem;\n    border: none;\n    border-radius: 1rem;\n    transition: filter 0.2s ease;\n}\n\nmain button:hover {\n    filter: brightness(0.85);\n}\n\n#task-input {\n    width: 100%;\n    margin-top: 1rem;\n}\n\n.task-buttons {\n    display: flex;\n    justify-content: flex-start;\n    gap: 1.5rem;\n    margin-top: 1rem;\n}\n\n.task-buttons button {\n    width: 5rem;\n}`,"",{version:3,sources:["webpack://./src/styles.css"],names:[],mappings:"AAAA;IACI,4BAA4B;IAC5B;+DAC8D;IAC9D,mBAAmB;IACnB,kBAAkB;;AAEtB;;AAEA;IACI,oBAAoB;IACpB,sBAAsB;IACtB,qBAAqB;IACrB,uBAAuB;AAC3B;;AAEA;IACI,sBAAsB;IACtB,wCAAwC;AAC5C;;AAEA;IACI,SAAS;IACT,UAAU;IACV,YAAY;AAChB;;AAEA;IACI,aAAa;IACb,4BAA4B;IAC5B,+BAA+B;IAC/B,sCAAsC;AAC1C;;AAEA,gCAAgC;;AAEhC;IACI,cAAc;IACd,gBAAgB;IAChB,qCAAqC;IACrC,2BAA2B;IAC3B,aAAa;AACjB;;AAEA;IACI,aAAa;IACb,2BAA2B;IAC3B,mBAAmB;IACnB,iBAAiB;IACjB,YAAY;IACZ,SAAS;AACb;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,eAAe,EAAE,gBAAgB;AACrC;;AAEA,iCAAiC;;AAEjC;IACI,gBAAgB;IAChB,wCAAwC;IACxC,eAAe;AACnB;;AAEA;IACI,eAAe;IACf,qBAAqB;IACrB,cAAc;AAClB;;AAEA;IACI,qBAAqB;IACrB,eAAe;AACnB;;AAEA;IACI,qBAAqB;IACrB,aAAa;IACb,8BAA8B;IAC9B,mBAAmB;IACnB,mBAAmB;IACnB,wCAAwC;IACxC,4BAA4B;IAC5B,YAAY;IACZ,gBAAgB;IAChB,cAAc;AAClB;;AAEA;IACI,aAAa;IACb,mBAAmB;AACvB;;AAEA;IACI,aAAa;IACb,uBAAuB;IACvB,mBAAmB;IACnB,QAAQ;AACZ;;AAEA;IACI,YAAY;IACZ,wCAAwC;AAC5C;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,UAAU;IACV,6BAA6B;AACjC;;AAEA,mCAAmC,0CAA0C;IACzE,UAAU;AACd;;;AAGA;IACI,wBAAwB,EAAE,sCAAsC;AACpE;;AAEA;IACI,cAAc;IACd,mBAAmB;IACnB,YAAY;IACZ,aAAa;IACb,2BAA2B;IAC3B,mBAAmB;IACnB,SAAS;IACT,kBAAkB;AACtB;;AAEA;IACI,aAAa;IACb,sBAAsB;IACtB,SAAS;IACT,cAAc;AAClB;;AAEA;IACI,aAAa;IACb,8BAA8B;AAClC;;AAEA;IACI,WAAW;AACf;;AAEA;IACI,eAAe;AACnB;;;AAGA,8BAA8B;;AAE9B;IACI,gBAAgB;IAChB,aAAa;IACb,sBAAsB;IACtB,2BAA2B;IAC3B,aAAa;IACb,iBAAiB;IACjB,kBAAkB;AACtB;;AAEA;IACI,gBAAgB;AACpB;;AAEA;IACI,cAAc;IACd,eAAe;AACnB;;AAEA;IACI,uBAAuB;IACvB,aAAa;IACb,cAAc;IACd,mBAAmB;AACvB;;AAEA;IACI,qBAAqB;IACrB,aAAa;IACb,2BAA2B;IAC3B,mBAAmB;IACnB,SAAS;IACT,mBAAmB;IACnB,4BAA4B;IAC5B,gBAAgB;IAChB,sCAAsC;IACtC,mBAAmB;IACnB,cAAc;AAClB;;AAEA;IACI,wBAAwB;AAC5B;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,aAAa;IACb,2BAA2B;IAC3B,mBAAmB;IACnB,SAAS;IACT,cAAc;IACd,YAAY;IACZ,mBAAmB;IACnB,4BAA4B;AAChC;;AAEA;IACI,wBAAwB;AAC5B;;AAEA;IACI,WAAW;IACX,gBAAgB;AACpB;;AAEA;IACI,aAAa;IACb,2BAA2B;IAC3B,WAAW;IACX,gBAAgB;AACpB;;AAEA;IACI,WAAW;AACf",sourcesContent:["@font-face {\n    font-family: 'robotoregular';\n    src: url('./fonts/roboto-regular-webfont.woff2') format('woff2'),\n         url('./fonts/roboto-regular-webfont.woff') format('woff');\n    font-weight: normal;\n    font-style: normal;\n\n}\n\n:root {\n    --primary-dark: #333;\n    --secondary-dark: #444;\n    --primary-light: #eee;\n    --secondary-light: #ddd;\n}\n\n* {\n    box-sizing: border-box;\n    font-family: 'robotoregular', sans-serif;\n}\n\nhtml, body {\n    margin: 0;\n    padding: 0;\n    height: 100%;\n}\n\nbody {\n    display: grid;\n    grid-template-rows: auto 1fr;\n    grid-template-columns: auto 1fr;\n    background-color: var(--primary-light);\n}\n\n/* ---------- Header ----------*/\n\nheader {\n    grid-row: 1/ 2;\n    grid-column: 1/3;\n    background-color: var(--primary-dark);\n    color: var(--primary-light);\n    padding: 1rem;\n}\n\nheader .wrapper {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    margin-left: 1rem;\n    width: 15rem;\n    gap: 1rem;\n}\n\nheader .title {\n    font-size: 2rem;\n}\n\n.material-symbols-outlined.checkmark {\n    font-size: 3rem; /* bigger icon */\n}\n\n/* ---------- Nav bar ----------*/\n\naside {\n    grid-column: 1/2;\n    background-color: var(--secondary-light);\n    padding: 1.5rem;\n}\n\naside h2 {\n    margin-top: 4px;\n    margin-bottom: 4pxrem;\n    padding: .5rem;\n}\n\naside ul {\n    list-style-type: none;\n    padding-left: 0;\n}\n\n#sidebar li {\n    margin-bottom: 1.5rem;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    border-radius: 1rem;\n    background-color: var(--secondary-light);\n    transition: filter 0.2s ease;\n    width: 12rem;\n    overflow: hidden;\n    padding: .5rem;\n}\n\n.project-close {\n    display: grid;\n    place-items: center;\n}\n\n#sidebar .style-help {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 3px;\n}\n\n.project-swap,  .project-close, #add-project {\n    border: none;\n    background-color: var(--secondary-light);\n}\n\n.project-swap:hover, .project-close:hover, #add-project-hover {\n    cursor: pointer;\n}\n\n.project-close {\n    opacity: 0;\n    transition: opacity 0.2s ease;\n}\n\n#sidebar li:hover .project-close { /* target when the li element is hovered */\n    opacity: 1;\n}\n\n\n#sidebar li:hover, #add-project:hover {\n    filter: brightness(0.85); /* 97% brightness = subtle darkening */\n}\n\n#add-project {\n    padding: .5rem;\n    border-radius: 1rem;\n    width: 13rem;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    gap: 10px;\n    position: relative;\n}\n\naside form {\n    display: flex;\n    flex-direction: column;\n    gap: 1rem;\n    padding: .5rem;\n}\n\n.form-buttons {\n    display: flex;\n    justify-content: space-between;\n}\n\n.sub-form, .clear-form {\n    width: 4rem;\n}\n\n.sub-form:hover, .clear-form:hover {\n    cursor: pointer;\n}\n\n\n/* ---------- Main ----------*/\n\nmain {\n    grid-column: 2/3;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    padding: 1rem;\n    margin-left: 2rem;\n    margin-right: 2rem;\n}\n\nmain h2 {\n    margin-left: 7px;\n}\n\nmain ul {\n    margin-left: 0;\n    padding-left: 0;\n}\n\nmain .circle {\n    border: 2px solid black;\n    width: 1.5rem;\n    height: 1.5rem;\n    border-radius: 1rem;\n}\n\nmain li {\n    list-style-type: none;\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    gap: 1rem;\n    margin-bottom: 1rem;\n    transition: filter 0.2s ease;\n    overflow: hidden;\n    background-color: var(--primary-light);\n    border-radius: 1rem;\n    padding: .5rem;\n}\n\nmain li:hover {\n    filter: brightness(0.85);\n}\n\nmain .circle:hover {\n    cursor: pointer;\n}\n\nmain .task-item, #add-task {\n    display: flex;\n    justify-content: flex-start;\n    align-items: center;\n    gap: 10px;\n    width: 100%rem;\n    border: none;\n    border-radius: 1rem;\n    transition: filter 0.2s ease;\n}\n\nmain button:hover {\n    filter: brightness(0.85);\n}\n\n#task-input {\n    width: 100%;\n    margin-top: 1rem;\n}\n\n.task-buttons {\n    display: flex;\n    justify-content: flex-start;\n    gap: 1.5rem;\n    margin-top: 1rem;\n}\n\n.task-buttons button {\n    width: 5rem;\n}"],sourceRoot:""}]);const u=l},369:(e,n,t)=>{e.exports=t.p+"8f8ad3bf5f195dd4f6b6.woff"},417:e=>{e.exports=function(e,n){return n||(n={}),e?(e=String(e.__esModule?e.default:e),/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),n.hash&&(e+=n.hash),/["'() \t\n]|(%20)/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e):e}},540:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},659:e=>{var n={};e.exports=function(e,t){var r=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}n[e]=t}return n[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var r="";t.supports&&(r+="@supports (".concat(t.supports,") {")),t.media&&(r+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(r+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),r+=t.css,a&&(r+="}"),t.media&&(r+="}"),t.supports&&(r+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),n.styleTagTransform(r,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}}},n={};function t(r){var a=n[r];if(void 0!==a)return a.exports;var o=n[r]={id:r,exports:{}};return e[r](o,o.exports,t),o.exports}t.m=e,t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},t.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e;t.g.importScripts&&(e=t.g.location+"");var n=t.g.document;if(!e&&n&&(n.currentScript&&"SCRIPT"===n.currentScript.tagName.toUpperCase()&&(e=n.currentScript.src),!e)){var r=n.getElementsByTagName("script");if(r.length)for(var a=r.length-1;a>-1&&(!e||!/^http(s?):/.test(e));)e=r[a--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),t.p=e})(),t.b=document.baseURI||self.location.href,t.nc=void 0;var r=t(72),a=t.n(r),o=t(825),s=t.n(o),i=t(659),c=t.n(i),A=t(56),d=t.n(A),l=t(540),p=t.n(l),m=t(113),u=t.n(m),f=t(365),h={};h.styleTagTransform=u(),h.setAttributes=d(),h.insert=c().bind(null,"head"),h.domAPI=s(),h.insertStyleElement=p(),a()(f.A,h),f.A&&f.A.locals&&f.A.locals;class g{constructor(){this.projects={}}get(){return this.projects}addProject(e){this.projects[e.id]=e}removeProject(e){delete this.projects[e]}}class C{constructor(e,n){this.id=e,this.notes=n}}class B{#e;constructor(){this.#e={}}addTask(e,n=null){const t=n||crypto.randomUUID(),r=new C(t,e);return this.#e[t]=r,t}removeTask(e){return e in this.#e&&(delete this.#e[e],!0)}getTask(e){return this.#e[e]??null}listTasks(){return Object.values(this.#e)}}class I{constructor(e,n){this.name=e,this.id=n,this.collection=new B}}class b{cacheData(e,n){const t={currentProjectId:n};let r=[];for(const n of Object.values(e.projects)){const e={id:n.id,name:n.name,tasks:[]},t=n?.collection?.listTasks?.()||[];for(const n of t)e.tasks.push({id:n.id,notes:n.notes});r.push(e)}t.projects=r,sessionStorage.setItem("myProjects",JSON.stringify(t)),this.downloadCache(!0)}downloadCache(e=!1){const n=sessionStorage.getItem("myProjects");if(!n)return null;try{const t=JSON.parse(n);return e&&console.log(JSON.stringify(t,null,2)),t}catch(e){return console.warn("Invalid cache:",e),null}}repopulate(e,n){if(!e||!Array.isArray(e.projects))return;const t=!0;for(const r of e.projects){const e=r.name,a=r.id;n.addNewProject(e,a,t),n.swapProjectId(a,!1);for(const e of r.tasks){const r=e.id,a=e.notes;n.addNewTask(a,r,t)}}const r=e.currentProjectId&&n.projectManager.projects[e.currentProjectId];n.currentProjectId=r?e.currentProjectId:Object.values(n.projectManager.projects)[0]?.id??null,n.currentProjectId?n.populateTaskList(n.currentProjectId):document.getElementById("task-list")?.replaceChildren(),n.updateCache()}}class y{constructor(){this.addProjectBtn=document.getElementById("add-project"),this.addTask=document.getElementById("add-task"),this.projectManager=new g,this.currentProjectId=null,this.storage=new b,this.init()}init(){this.addProjectBtn?.addEventListener("click",this.showProjectInput),this.addTask?.addEventListener("click",this.showTaskInput)}updateCache(){this.storage.cacheData(this.projectManager,this.currentProjectId)}showProjectInput=()=>{const e=this.addProjectBtn.dataset.prevDisplay||getComputedStyle(this.addProjectBtn).display;this.addProjectBtn.dataset.prevDisplay=e,this.addProjectBtn.style.display="none";const n=document.createElement("form"),t=document.createElement("label");t.htmlFor="project-name",t.textContent="Project name";const r=document.createElement("input");r.id="project-name",r.type="text",r.className="project-input",r.name="project-name",r.minLength=1,r.maxLength=20,r.required=!0,r.setAttribute("aria-label","Project name");const a=document.createElement("div"),o=document.createElement("button"),s=document.createElement("button");a.className="form-buttons",o.type="submit",o.className="sub-form",o.textContent="Add",s.type="button",s.className="clear-form",s.textContent="Clear",a.append(o,s),n.append(t,r,a),this.addProjectBtn.insertAdjacentElement("beforebegin",n),r.focus();const i=()=>{n.remove(),this.addProjectBtn.style.display=e};n.addEventListener("submit",e=>{if(e.preventDefault(),!n.reportValidity())return;const t=r.value.trim();this.addNewProject(t),i()}),s.addEventListener("click",i)};showTaskInput=()=>{const e=this.addTask.dataset.prevDisplay||getComputedStyle(this.addTask).display;this.addTask.dataset.prevDisplay=e,this.addTask.style.display="none";const n=document.createElement("form"),t=document.createElement("label"),r=document.createElement("input"),a=document.createElement("div"),o=document.createElement("button"),s=document.createElement("button");n.id="task-form",t.htmlFor="task-input",t.textContent="Task description",r.type="text",r.name="task-description",r.id="task-input",r.minLength=1,r.maxLength=150,r.required=!0,r.setAttribute("aria-label","Task description"),a.className="task-buttons",o.type="submit",o.id="task-submit",o.textContent="Submit",s.type="button",s.id="task-clear",s.textContent="Clear",a.append(o,s),n.append(t,r,a),this.addTask.insertAdjacentElement("beforebegin",n),r.focus();const i=()=>{n.remove(),this.addTask.style.display=e};n.addEventListener("submit",e=>{if(e.preventDefault(),!n.reportValidity())return;const t=r.value.trim();this.addNewTask(t),i()}),s.addEventListener("click",i)};addNewProject(e,n=null,t=!1){const r=document.querySelector(".nav-list");if(!r)return;const a=document.createElement("li"),o=document.createElement("div"),s=document.createElement("span"),i=document.createElement("button"),c=document.createElement("button"),A=document.createElement("span"),d=n||crypto.randomUUID(),l=new I(e,d);i.dataset.id=l.id,this.projectManager.addProject(l),t||(this.swapProjectId(l.id),this.populateTaskList(l.id)),o.className="style-help",s.className="material-symbols-outlined",s.textContent="checklist",i.type="button",i.className="project-swap",i.textContent=e,i.addEventListener("click",()=>{this.swapProjectId(l.id),this.populateTaskList(l.id)}),o.append(s,i),c.type="button",c.className="project-close",A.className="material-symbols-outlined",A.textContent="close_small",c.appendChild(A),a.append(o,c),r.appendChild(a),c.addEventListener("click",()=>{const e=this.currentProjectId===l.id;if(this.removeProject(a,l.id),!e)return void this.updateCache();const n=this.projectManager.get();if(Object.keys(n).length>0){const e=Object.values(n)[0];this.currentProjectId=e.id,this.populateTaskList(this.currentProjectId)}else{this.currentProjectId=null;const e=document.getElementById("task-list");e?.replaceChildren()}this.updateCache()})}addNewTask(e,n=null,t=!1){const r=this.currentProjectId;r?(n?this.projectManager.projects[r].collection.addTask(e,n):this.projectManager.projects[r].collection.addTask(e),t||(this.populateTaskList(r),this.updateCache())):alert("Must create a project first before adding a task!")}removeProject(e,n){e.remove(),this.projectManager.removeProject(n)}removeTask(e,n){const t=this.currentProjectId;this.projectManager.projects[t].collection.removeTask(n),e.remove(),this.updateCache()}swapProjectId(e,n=!0){this.currentProjectId=e,n&&this.updateCache()}populateTaskList(e){const n=document.getElementById("task-list");if(!n)return;const t=this.projectManager.projects[e].collection.listTasks();n.replaceChildren();for(const e of t)this.createTaskElement(e,n)}createTaskElement(e,n){const t=document.createElement("li"),r=document.createElement("div"),a=document.createElement("div");r.className="circle",a.className="proj-description",a.textContent=e.notes,t.append(r,a),n.appendChild(t),r.addEventListener("click",()=>{this.removeTask(t,e.id)})}}document.addEventListener("DOMContentLoaded",()=>{const e=new b,n=e.downloadCache(!0),t=new y;e&&e.repopulate(n,t)})})();
//# sourceMappingURL=main.js.map